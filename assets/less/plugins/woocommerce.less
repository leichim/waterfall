/**
 * Styling for WooCommerce
 */

/* Cart Count Styling */
.atom-menu-item-cart-count {
    background: @flat-red;
}


/* Single Products */
.single-product {
    .atom-breadcrumbs {
        margin-bottom: 1.5rem;    
    }
}


/* General Styling */
.woocommerce {
    
    /* Woocommerce messages */
    .woocommerce-message {
        border-top-color: @flat-blue;
        &:before {
            color: @flat-blue;    
        }
    }    
    
    .woocommerce-error {
        border-top-color: @flat-red;
        margin: 0 0 2em;
        &:before {
            color: @flat-red;
        }
    }
    
    /* Add to cart message */
    a.added_to_cart {
        color: @grey;
        padding: 0.5em 0.25em;;
    }
    
    /* Sales Button */
    span.onsale {
        background-color: @dark-blue;
        left: inherit;
        height: 3.5em;
        right: 0;
        top: 0;
        width: 3.5em;
    }
    
    /* Remove button */
    a.remove {
        color: @flat-red !important;
        height: auto;
        &:hover {
            background-color: @flat-red;
            color: #fff !important;
        }
    }
    
    /* Forms */
    form {
        .form-row {
            .required {
                color: @flat-red;
                text-decoration: none;
            }
            &.woocommerce-invalid {
                .select2-container, input.input-text, select {
                    border-color: @flat-red;
                }
                label {
                    color: @flat-red;
                }
            }
        }
    }
    
    /* Tables */
    table { 
        th {
            border: none;
        }
        &.shop_table {
            margin-bottom: @grid-space;
        }
        &.shop_attributes {
            th {
                text-align: right;
            }
            tr:nth-child(even) th, tr:nth-child(even) td {
                background: none;
            }
        }
    }
    
    /* Single Products */
    div.product {
        p.price {
            color: @flat-red;
            font-size: 1.5em;
            ins {
                text-decoration: none;
            }
        }
        .flex-control-nav {
            height: auto;
            position: static;
        }
        .woocommerce-tabs {
            ul.tabs {
                margin: 0;
                padding-left: 0;
                &:before {
                    border-bottom: 1px solid @e-grey;
                }
                li {
                    background-color: @f-grey;
                    border-color: @e-grey;
                    border-radius: 0;
                    margin: 0;
                    padding: 0 @grid-space/2;
                    &:after, &:before {
                        display: none;
                    }
                }
            }
            .panel {
                border: 1px solid @e-grey;
                border-top: none;
                padding: @grid-space @grid-space/2;
                h2 {
                    font-size: 1.5em;
                }
                p:last-child {
                    margin-bottom: 0;
                }
            }
        }
        div.images {
            img {
                margin-bottom: 0;
            }
        }
        .comment-form {
            margin-top: @grid-space;
        }
        .related, .upsells {
            background: @f-grey;
            margin: 0 -50vw -@grid-space -50vw;
            padding: @grid-space*2 50vw @grid-space/2 50vw;
            ul.products {
                margin-bottom: 0;
            }
        }        
    }
    
    /* Product Meta */
    .product_meta {
        color: @grey;
        font-size: @small-fontsize;
    }    
    
    /* Products Overview */
    ul.products li.product {
        .star-rating {
            color: @flat-yellow;
        }
        .onsale {
            margin: 0; 
            right: 1em;
            top: 1em;
        }
        .price {
            color: @flat-blue;
            del {
                display: inline;
            }
            ins {
                text-decoration: none;
            }
        }
    }
    
    /* Widgets */
    .widget_layered_nav ul li.chosen a:before {
        color: @flat-red;
    }

}

    
/* Buttons */
.woocommerce, .header .atom-menu-item-cart {
    input, button, a, input[type="submit"] {
        &.button {
            background-color: @flat-blue;
            color: #fff; 
            display: inline-block;
            line-height: @grid-space*1.5;
            min-height: @grid-space*1.5;
            padding: 0 1em;
            transition: all 300ms ease-out;
            &:hover {
                background-color: @flat-blue;
                color: #fff;
                opacity: 0.8;
            }
            &.alt {
                background-color: @flat-red;
                &:hover {
                    background-color: @flat-red;
                }
            }
            &.loading:after {
                top: 0;
            }
        }
    }
}

.header .atom-menu-item-cart a.checkout  {
    background-color: @flat-red;    
}

.atom-menu .atom-menu-item-cart .woocommerce-mini-cart .woocommerce-mini-cart-item .remove {
    color: @flat-red;
}

/* Woocommerce pages */
.woocommerce-page {
    .readable-content {
        p, h3, h4, h5, h6, ol, ul, pre, code, ins, mark, cite, em, b, strong, i {
            max-width: none;
        }   
    }
}

/* Acount Page */
.woocommerce-account {
    .woocommerce-MyAccount-navigation {
        position: relative;
        z-index: 1;
        ul {
            list-style: none;
            margin: 0;
        }
        li {
            a {
                background: @f-grey;
                border: 1px solid @e-grey;
                border-bottom: none;
                display: block;
                padding: 1em 0.75em;
            }
            &.is-active a, a:hover {
                background: #fff;
                border-right: 1px solid transparent;
                @media screen and (max-width: 786px) {
                    border-right: 1px solid @e-grey;
                }
            }
            &:last-child a {
                border-bottom: 1px solid @e-grey;
                @media screen and (max-width: 786px) {
                    border-bottom: none;
                }                
            }
        }
    }
    .woocommerce-MyAccount-content {
        border: 1px solid @e-grey;
        left: -1px;
        min-height: 380px;
        padding: 1em;
        position: relative;
        width: 70%;
        z-index: 0;
        @media screen and (max-width: 768px) {
            left: 0;
            min-height: inherit;
            width: 100%;
        }
    }
}

/* Payments */
.woocommerce-checkout {
    margin-bottom: @grid-space;
    #customer_details {
        margin-bottom: @grid-space;
    }
}

#add_payment_method #payment, .woocommerce-cart #payment, .woocommerce-checkout #payment {
    background: @f-grey;
}

/* Cart */
.woocommerce-cart-form {
    margin-bottom: @grid-space;
}
.woocommerce-cart table.cart img {
    margin: 0 @grid-space/2;
}

/* Order */
.woocommerce-order-details {
    margin-bottom: @grid-space;
}

/* Login and Registration */
.woocommerce form.login, .woocommerce form.register {
    border: none;
    border-radius: 0;
    padding: 0;
}